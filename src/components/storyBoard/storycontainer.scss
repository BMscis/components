es-storycontainer{
    grid-area: stories;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    display: flex;
    justify-content: center;
    flex-direction: column;
    align-items: center;
    opacity: 0;
}
es-storycontainer div{
    width: 70%;
    height: 100%;
}
es-storycontainer input {
    display: none;
}
// #story-0:checked ~  #es-story-0{
//     margin:500px;
// }

es-storycontainer label{
    width:300px;
    //min-width:300px;
    //max-width:300px;
    position: absolute;
    left: 0;
    right: 0;
    margin: auto;
    border-radius: 3px;
    z-index: 3;
    cursor: pointer;
    border-radius: 20px;
    transform-style: preserve-3d;
    perspective: 1800px;
    transform-origin: center;
}
@for $i from 1 through 4 {
  #es-story-#{$i}:target es-story{
    es-storyimage,es-heading,es-p,es-button{
      opacity: 0;
    }
    es-closecomponent{
      opacity: 1;
      es-heading{
        opacity: 1;
      }
    }
    es-storybackface{
      opacity: 1;
      display: grid;
  }
    grid-area: imagebar;
    background:transparent;
    display:grid;
    grid-template-areas: "close imagebar";
    grid-template-columns: 150px 1fr 20px;
    transform: translateX(-40%);
    overflow: hidden;
    width: 80vw;
    min-width: unset;
    max-width: unset;
    background-color: transparent;
  }
  #es-story-#{$i}:target ~ label:not(#es-story-#{$i}:target){
    filter: blur(15px);
  }

  #co-story-#{$i}:target{  
    es-storyimage,es-heading,es-p,es-button{
      opacity: 1;
    }
    es-closecomponent{
      opacity: 0;
    }
    es-storybackface{
      opacity: 0;
      display: none;
    }
    counter-reset: backfacefilter;
    width:100%;
    margin: auto;
    border-radius: 20px;
    background-color: #0f43a0;
    background-position: bottom;
    background-repeat: no-repeat;
    background-size: cover;
    transform-style: preserve-3d;
    transform-origin:center;
    transition: 0.5s ease;
    align-items: center;
    display: grid;
    grid-auto-flow: row;
    justify-items: center;                                          
    z-index:0;
    opacity: 0;
  }
}

#story-1:checked ~  #es-story-1, 
#story-2:checked ~  #es-story-2, 
#story-3:checked ~  #es-story-3,
#story-4:checked ~  #es-story-4{
  transform: translatex(0) scale(1);
  opacity: 1;
  z-index: 1;
  es-story{
    opacity: 1;
    //box-shadow: 2px 3px 19px 2px rgb(0 0 0 / 71%), 0 0 2px 1px rgb(0 0 0 / 76%);
    border-right: 1px outset;
    border-left: 1px outset;
    border-image: linear-gradient(transparent, transparent,#e63380,transparent,transparent);
    border-image-slice:1;
    z-index:1;
    //animation-name:moveactive;
    animation-duration: 1s;
    animation-fill-mode:forwards;
  }
  es-story::after{
    content: " ";
    border-radius: 10px;
    width: 100%;
    height: 10%;
    box-shadow: -10px 20px 16px 5px #00000008;
    position: absolute;
    //background: linear-gradient(to top, currentColor, transparent, transparent);
    bottom: 0;
    transform-style: preserve-3d;
    transform-origin: top;
    backdrop-filter:opacity(0.5);
    -webkit-backdrop-filter:opacity(0.5);
    z-index: -1;
}
}

#story-1:checked ~  #es-story-2, 
#story-2:checked ~  #es-story-3, 
#story-3:checked ~  #es-story-4,
#story-4:checked ~  #es-story-1
 {
  transform: translatex(65%) scale(.8);
  opacity: .4;
  z-index: 0;
  //filter: blur(15px);
}

#story-1:checked ~  #es-story-4, 
#story-2:checked ~  #es-story-1, 
#story-3:checked ~  #es-story-2,
#story-4:checked ~  #es-story-3
 {
  transform: translatex(-65%) scale(.8);
  opacity: .4;
  z-index: 0;
  //filter: blur(15px);
}

#story-1:checked ~  #es-story-3,
#story-2:checked ~  #es-story-4,
#story-3:checked ~  #es-story-1,
#story-4:checked ~  #es-story-2
{
  transform: scale(.8);
  opacity: 0;
  z-index: 0;
  //filter: blur(15px);
}